var h=e=>{let r=document.createElement("canvas"),{target:n,fullscreen:o}=e,{body:d}=window.document;n&&o?e.target=null:!n&&!o&&(e.fullscreen=!0),o&&(Object.assign(r.style,{position:"absolute",top:"0",left:"0"}),r.width=window.innerWidth,r.height=window.innerHeight,d.appendChild(r),Object.assign(d.style,{margin:"0",padding:"0",width:"100%",height:"100%",overflow:"hidden"})),n&&(n.appendChild(r),n.style.overflow="hidden",r.width=r.offsetWidth,r.height=r.offsetHeight),r.width=r.offsetWidth,r.height=r.offsetHeight,r.style.width="100%",r.style.height="100%";let t=window.document.querySelector('meta[name="viewport"]');if(t)Object.assign(t,{content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"});else{let i=Object.assign(window.document.createElement("meta"),{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"});window.document.head.appendChild(i)}return r};var w=e=>~~(.5+e),l=e=>({x:w(e.x),y:w(e.y)}),c=e=>({text:(t,i,s="gray",a=16)=>{t=l(t),e.save(),e.fillStyle=s,e.font=`${a}px sans-serif`,e.fillText(i,t.x,t.y),e.restore()},line:(t,i,s="gray",a=1)=>{t=l(t),i=l(i),e.save(),e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(i.x,i.y),e.lineWidth=a,e.stroke(),e.closePath(),e.restore()},rectangle:(t,i,s="gray",a=1)=>{t=l(t),i=l(i),e.save(),e.beginPath(),e.rect(t.x,t.y,i.x,i.y),e.lineWidth=a,e.strokeStyle=s,e.stroke(),e.closePath(),e.restore()},circle:(t,i=25,s="gray",a=1)=>{t=l(t),e.save(),e.beginPath(),e.strokeStyle=s,e.lineWidth=a,e.arc(t.x,t.y,i,0,Math.PI*2,!0),e.stroke(),e.closePath(),e.restore()}});var g=e=>{let{width:r=800,height:n=600,fullscreen:o=!1,target:d=null}=e.canvas,t=h({width:r,height:n,fullscreen:o,target:d}),i=t.getContext("2d"),s=c(i),a=()=>{if(o){t.style.width="100%",t.style.height="100%",t.width=window.innerWidth,t.height=window.innerHeight;return}t.width=t.offsetWidth,t.height=t.offsetHeight};return window.addEventListener("resize",a),{canvas:t,context:i,draw:s,destroy:()=>{window.removeEventListener("resize",a),t.parentElement.removeChild(t)}}};export{g as create2D,h as createCanvas,c as createDraw};
